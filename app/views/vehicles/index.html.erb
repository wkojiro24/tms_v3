<% content_for :title, "車両一覧" %>
<% content_for :section_label, "車両" %>

<div class="card shadow-sm mb-4">
  <div class="card-body d-flex flex-wrap align-items-center gap-3">
    <div>
      <h1 class="h4 mb-1 fw-semibold">保有車両一覧</h1>
      <p class="text-muted mb-0 small">CSV 台帳から取り込んだ最新の登録情報です。行をクリックすると詳細へ遷移します。</p>
    </div>
  </div>
</div>

<div class="card shadow-sm">
  <div class="card-body p-0">
    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-light">
          <tr>
            <th>営業所</th>
            <th>登録番号</th>
            <th>呼称</th>
            <th>初度登録</th>
            <th>型式</th>
            <th>荷主</th>
            <th>輸送品名</th>
            <th>最大積載量</th>
            <th>車両総重量</th>
          </tr>
        </thead>
        <tbody>
          <% @vehicles.each do |vehicle| %>
            <tr>
              <td><%= vehicle.depot_name %></td>
              <td>
                <%= link_to vehicle.registration_number, vehicle_path(vehicle), class: "fw-semibold text-decoration-none" %>
              </td>
              <td><%= vehicle.call_sign %></td>
              <td><%= l(vehicle.first_registration_on, format: :long) if vehicle.first_registration_on.present? %></td>
              <td><%= vehicle.model_code %></td>
              <td><%= vehicle.shipper_name %></td>
              <td><%= vehicle.cargo_name %></td>
              <td><%= number_with_delimiter(vehicle.max_load_kg) if vehicle.max_load_kg.present? %> kg</td>
              <td><%= number_with_delimiter(vehicle.gross_weight_kg) if vehicle.gross_weight_kg.present? %> kg</td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
